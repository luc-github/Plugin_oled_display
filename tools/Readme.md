# Font Converter for OLED Displays

This tool converts TrueType fonts into a C header file format compatible with OLED display libraries, particularly for use with Arduino and other embedded systems.

## Features

- Converts any TrueType font to a bitmap format optimized for OLED displays
- Custom character ranges support
- Compatible with common OLED display libraries like Adafruit_SSD1306 and U8g2
- Generates compact byte arrays to minimize memory usage

## Installation

### Requirements

- Python 3.6 or newer
- Pillow library (PIL fork)

### Setup

1. Clone or download this repository

2. Install the required dependencies:
   ```bash
   pip install Pillow
   ```

3. Make the script executable (Unix/Linux/macOS):
   ```bash
   chmod +x font_converter.py
   ```

## Usage

### Basic Usage

```bash
python font_converter.py path/to/font.ttf font_size
```

For example:
```bash
python font_converter.py Roboto-Regular.ttf 14
```

This will generate a `Roboto-Regular_14.h` file in the current directory.

### Advanced Options

```bash
python font_converter.py path/to/font.ttf font_size --output output.h --name MyFont --range 32-255
```

Available options:
- `--output` or `-o`: Specify the output file path
- `--name`: Set the variable name in the C header (defaults to the font filename)
- `--range`: Set the character range to include (default is 32-128)

## Output File Format

The generated header file contains:

1. A descriptive comment header with font information including:
   - Generation timestamp
   - Source font name
   - License information (LGPL-3.0)

2. A `const char` array in PROGMEM containing:
   - Font metadata (width, height, first character, character count)
   - Jump table with offsets to each character
   - Bitmap data for each character

Example:
```c
/*
 * Font Name: Roboto_14
 * Font Size: 14
 * Font Width: 13
 * Font Height: 17
 * First Character: 32 ( )
 * Character Count: 96
 * Data Size: 1789 bytes
 * Source Font: Roboto-Regular.ttf
 *
 * This file was automatically generated by font_converter on 2025-03-01
 * Created by Luc LEBOSSE
 *
 * This font data is licensed under the GNU LGPL v3 License.
 */

#ifndef ROBOTO_14_H
#define ROBOTO_14_H

const char Roboto_14[] PROGMEM = {
    0x0D, // Width: 13
    0x11, // Height: 17
    0x20, // First Char: 32
    0x60, // Numbers of Chars: 96

    // Jump Table:
    // ...

    // Font Data:
    // ...
};

#endif // ROBOTO_14_H
```

## Integration with OLED Libraries

To use the generated font with your OLED library:

1. Include the generated header file in your project:
   ```c
   #include "Roboto_14.h"
   ```

2. Set the font in your OLED display code:
   ```c
   display.setFont(Roboto_14);
   ```

## Troubleshooting

- If characters appear cut off, try increasing the font size
- If you see memory errors, try reducing the character range or using a smaller font
- For fonts with complex glyphs, you may need to adjust the conversion parameters

## License

This tool is provided under the GNU Lesser General Public License v3.0 (LGPL-3.0).
See [LGPL-3.0](https://www.gnu.org/licenses/lgpl-3.0.en.html) for more details.

Copyright (C) 2025 Luc LEBOSSE
